"use strict";!function(t){t(document).ready((function(){var e,a=new Morris.Bar({element:"chart",lineColors:["#819C79","#fc8710","#FF6541","#A4ADD3","#6932a8"],parseTime:!1,stacked:!0,axes:!0,grid:!0,hideHover:"auto",xkey:"period",ykeys:["order","sales","quantity"],labels:["Đơn hàng","Doanh số","Số lượng"],resize:!0});e=t('input[name="_token"]').val(),t.ajax({url:url_revenue_statistics_for_the_month,method:"POST",dataType:"JSON",data:{_token:e},success:function(e){e.success?(a.setData(e.chart),t(".total").text(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.total)),t(".total_orders").text(e.total_orders+" đơn"),t(".filter-text").text("Tháng "+e.month),t(".chart-text").text("Tháng "+e.month)):errorMsg("Không có dữ liệu")}}),t(".optional-revenue").change((function(){var e=t(this).val(),r=t('input[name="_token"]').val();t.ajax({url:url_optional_revenue_statistics,method:"POST",dataType:"JSON",data:{optional_revenue:e,_token:r},success:function(e){e.success?(a.setData(e.chart),t(".total").text(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.total)),t(".total_orders").text(e.total_orders+" đơn"),t(".filter-text").text(e.option),t(".chart-text").text(e.option)):errorMsg("Không có dữ liệu")}})})),t(".btn-revenue-by-date").click((function(){var e=t('input[name="_token"]').val(),r=t('input[name="from_date"]').val(),n=t('input[name="to_date"]').val();t.ajax({url:url_revenue_statistics_by_date,method:"POST",dataType:"JSON",data:{from_date:r,to_date:n,_token:e},success:function(e){e.success?(a.setData(e.chart),t(".total").text(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.total)),t(".total_orders").text(e.total_orders+" đơn"),t(".filter-text").text("Từ ngày "+e.from_date+" --- Đến ngày "+e.to_date),t(".chart-text").text("Từ ngày "+e.from_date+" --- Đến ngày "+e.to_date)):errorMsg("Không có dữ liệu")}})})),t(".btn-unit-revenue").click((function(){var e=t('input[name="_token"]').val(),r=t(".unit_id").val(),n=t(".unit_id option:selected").text();t.ajax({url:url_revenue_statistics_by_unit,method:"POST",dataType:"JSON",data:{unit_id:r,_token:e},success:function(e){e.success?(a.setData(e.chart),t(".total").text(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.total)),t(".total_orders").text(e.total_orders+" đơn"),t(".filter-text").text("Đơn vị "+n),t(".chart-text").text("Đơn vị "+n)):errorMsg("Không có dữ liệu")}})}))}))}(jQuery);