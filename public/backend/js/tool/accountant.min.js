"use strict";function quantityFunction(t){var a=t.target.name;$("input[name="+a+"]").on({keyup:function(){formatQuantity($(this))},input:function(){var t=a.split("_")[2],e=$("input[name="+a+"]").val(),n=$(".order_cost_"+t).val();if(""!=e&&""!=n){var r=n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,""),o=parseInt(e)*parseInt(r),c=new Intl.NumberFormat("vi-VN").format(o);$(".order_price_"+t).val(c)}else $(".order_price_"+t).val(0)}})}function costFunction(t){var a=t.target.name;$("input[name="+a+"]").on({keyup:function(){formatCurrency($(this))},blur:function(){formatCurrency($(this),"blur")},input:function(){var t=a.split("_")[2],e=$(".order_quantity_"+t).val(),n=$("input[name="+a+"]").val();if(""!=e&&""!=n){var r=n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,""),o=parseInt(e)*parseInt(r),c=new Intl.NumberFormat("vi-VN").format(o);$(".order_price_"+t).val(c)}else $(".order_price_"+t).val(0);var u=n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"");r=new Intl.NumberFormat("vi-VN").format(u);$(".order_cost_"+t).val(r)}})}function priceFunction(t){var a=t.target.name;$("input[name="+a+"]").on({keyup:function(){formatCurrency($(this))},blur:function(){formatCurrency($(this),"blur")},input:function(){var t=a.split("_")[2],e=$(this).val().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,""),n=new Intl.NumberFormat("vi-VN").format(e);$(".order_price_"+t).val(n)}})}function amountPaidFunction(t){var a=t.target.name;$("input[name="+a+"]").on({keyup:function(){formatCurrency($(this))},blur:function(){formatCurrency($(this),"blur")},input:function(){var t=a.split("_")[3],e=$(".order_price_"+t).val(),n=$(this).val();if(""!=n&&""!=e){var r=e.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,""),o=n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,""),c=parseInt(r)-parseInt(o),u=new Intl.NumberFormat("vi-VN").format(c);$(".accountant_owe_"+t).val(u)}else $(".accountant_owe_"+t).val(e);var l=n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"");o=new Intl.NumberFormat("vi-VN").format(l);$(".accountant_amount_paid_"+t).val(o)}})}function discountFunction(t){var a=t.target.name,e=a.split("_")[2];$("input[name="+a+"]").on({keyup:function(){formatCurrency($(this))},blur:function(){formatCurrency($(this),"blur")},input:function(){var t=$(".order_price_"+e).val(),a=$(this).val(),n=t.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"");if(""!=a&&""!=t){var r=a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,""),o=parseInt(n)-parseInt(r),c=new Intl.NumberFormat("vi-VN").format(o);$(".order_profit_"+e).val(c)}else $(".order_profit_"+e).val(t);var u=a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"");r=new Intl.NumberFormat("vi-VN").format(u);$(".order_discount_"+e).val(r)},click:function(){var t=$(".order_price_"+e).val(),a=$(this).val(),n=t.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"");if(""!=a&&""!=t){var r=a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,""),o=parseInt(n)-parseInt(r),c=new Intl.NumberFormat("vi-VN").format(o);$(".order_profit_"+e).val(c)}else $(".order_profit_"+e).val(t);var u=a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"");r=new Intl.NumberFormat("vi-VN").format(u);$(".order_discount_"+e).val(r)}})}function ordFormFunction(t){var a=t.target.name,e=a.split("_")[2];$("input[name="+a+"]").on("keyup change",(function(){var t=$(this).val(),a=$(".accountant_35X43_"+e).val(),n=$(".order_quantity_"+e).val();if("ko in"==t){if(""==a)var r=0;else r=a;var o=4*parseInt(r);$(".accountant_film_bag_"+e).val(o)}else $(".accountant_film_bag_"+e).val(n)}))}function accountant35X43Function(t){var a=t.target.name,e=a.split("_")[2];$("input[name="+a+"]").on("keyup change",(function(){var t=$(this).val(),a=$(".ord_form_"+e).val(),n=$(".order_quantity_"+e).val();if("ko in"==a)if(""!=t){var r=4*parseInt(t);$(".accountant_film_bag_"+e).val(r)}else $(".accountant_film_bag_"+e).val(0);else $(".accountant_film_bag_"+e).val(n)}))}function deadlineFunction(t){var a=t.target.name,e=a.split("_")[2];$("input[name="+a+"]").on("keyup change click",(function(){var t=parseInt($(this).val()),a=$(".accountant_date_"+e).val();if(""!=a){var n=a.split("/"),r=n[2]+"-"+n[1]+"-"+n[0];const c=new Date(r),u=c.getDate()+t;c.setDate(u);var o=c.toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"}).split(" ").join("-");$(".accountant_payment_"+e).val(o)}else $(".accountant_payment_"+e).val("")}))}function dateFunction(t){var a=t.target.name,e=a.split("_")[2];$("input[name="+a+"]").on("keyup change",(function(){var t=$(this).val(),a=$(".accountant_deadline_"+e).val();if(""!=a&&t.length>=10){var n=t.split("/"),r=n[2]+"-"+n[1]+"-"+n[0];const c=new Date(r),u=c.getDate()+parseInt(a);c.setDate(u);var o=c.toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"}).split(" ").join("-");$(".accountant_payment_"+e).val(o)}else $(".accountant_payment_"+e).val("")}))}!function(t){var a;function e(){var a=t('input[name="_token"]').val(),e=t(".search_target1").val(),n=t(".search_target5").val(),r=t(".search_target6").val(),o=t(".search_target7").val();t(".loader").fadeIn(),t("#preloder").fadeIn("slow"),t.ajax({url:urlFilterAccountant,method:"POST",data:{_token:a,month:e,unitCode:n,unitName:r,ctyName:o},success:function(a){var e=new Intl.NumberFormat("vi-VN").format(a.total_price),n=new Intl.NumberFormat("vi-VN").format(a.total_owe),r=new Intl.NumberFormat("vi-VN").format(a.total_amount_paid),o=new Intl.NumberFormat("vi-VN").format(a.total_quantity),c=new Intl.NumberFormat("vi-VN").format(a.total_discount);t("#total-price").text(e),t("#total-owe").text(n),t("#total-amount-paid").text(r),t("#total-quantity").text(o),t("#total-discount").text(c),t(".loader").fadeOut(),t("#preloder").fadeOut("slow")}})}t(".order_profit").on({keyup:function(){formatCurrency(t(this))},blur:function(){formatCurrency(t(this),"blur")},input:function(){var a=t(this).val();if(""==a){var e=0;t(".order_profit").val(e)}else e=a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"")}}),t(document).on("click",".updateAccount",(function(){var a=t(this).data("id"),e=t(".updateAccountant_"+a).serializeArray();urlUpdateAccountant=urlUpdateAccountant.replace(":id",a),t(".loader").fadeIn(),t("#preloder").fadeIn("slow"),t.ajax({url:urlUpdateAccountant,method:"POST",data:e,success:function(e){urlUpdateAccountant=urlUpdateAccountant.replace(a,":id"),t(".order_status_"+a).html('<span style="color: #00d0e3;">Đã cập nhật doanh thu</span>'),t(".loader").fadeOut(),t("#preloder").fadeOut("slow"),successMsg(e.success)}})})),t(document).on("click",".completeAccount",(function(){var a=t(this).data("id"),e=t(".updateAccountant_"+a).serializeArray();urlCompleteAccountant=urlCompleteAccountant.replace(":id",a),t(".loader").fadeIn(),t("#preloder").fadeIn("slow"),t.ajax({url:urlCompleteAccountant,method:"POST",data:e,success:function(e){urlUpdateAccountant=urlUpdateAccountant.replace(a,":id"),t(".order_status_"+a).html('<span style="color: #0071e3;">Đã xử lý</span>'),t(".update-account-"+a).html(""),t(".loader").fadeOut(),t("#preloder").fadeOut("slow"),successMsg(e.success)}})})),t(document).on("keyup",".search_target1, .search_target5, .search_target6, .search_target7",(function(){clearTimeout(a),a=setTimeout(e,600)})),t(document).on("keydown",".search_target1, .search_target5, .search_target6, .search_target7",(function(){clearTimeout(a)}))}(jQuery);